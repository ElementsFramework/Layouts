webpackJsonp([0],[,function(e,t,n){"use strict";var i=n(2);t.a=new i.a},,,,function(e,t,n){function i(e){n(22)}var s=n(0)(n(14),n(32),i,null,null);e.exports=s.exports},function(e,t,n){function i(e){n(24)}var s=n(0)(n(16),n(34),i,"data-v-e28564a4",null);e.exports=s.exports},function(e,t,n){function i(e){n(25)}var s=n(0)(n(17),n(35),i,"data-v-e44bda48",null);e.exports=s.exports},function(e,t,n){function i(e){n(23)}var s=n(0)(n(18),n(33),i,"data-v-c37d49e4",null);e.exports=s.exports},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=n(9),a=n(5),o=n.n(a),l=n(6),r=n.n(l),c=n(8),u=n.n(c),d=n(7),m=n.n(d),f=n(10),h=n.n(f),p=n(4),v=n.n(p),_=n(3);i.a.config.productionTip=!1,i.a.use(s.a),i.a.component("ui-element",r.a),i.a.component("ui-element-thumbnail",u.a),i.a.component("ui-element-picker",m.a),i.a.component("draggable",h.a),i.a.component("vue-form-generator",v.a.component),i.a.component("sweet-modal",_.a),new i.a({el:"#app",data:function(){return{uiElements:window.uiElements,layout:window.layout,submissionUrl:"http://igor-rinkovec.from.hr/hook.php"}},template:'<App :layout="layout" :submitUrl="submissionUrl" :uiElements="uiElements"/>',components:{App:o.a}})},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"SweetModal",props:{title:{type:String,required:!1,default:""},overlayTheme:{type:String,required:!1,default:"light"},modalTheme:{type:String,required:!1,default:"light"},blocking:{type:Boolean,required:!1,default:!1},pulseOnBlock:{type:Boolean,required:!1,default:!0},icon:{type:String,required:!1,default:""},hideCloseButton:{type:Boolean,required:!1,default:!1}},mounted:function(){this.tabs=this.$children.filter(function(e){return e.cmpName&&"tab"==e.cmpName}),this.has_tabs&&(this.currentTab=this._changeTab(this.tabs[0])),document.addEventListener("keyup",this._onDocumentKeyup)},beforeDestroy:function(){document.removeEventListener("keyup",this._onDocumentKeyup)},data:function(){return{visible:!1,is_open:!1,is_bouncing:!1,tabs:[],backups:{body:{height:null,overflow:null}}}},computed:{has_title:function(){return this.title||this.$slots.title},has_tabs:function(){return this.tabs.length>0},has_content:function(){return this.$slots.default},current_tab:function(){return this.tabs.filter(function(e){return!0===e.active})[0]},overlay_classes:function(){return["sweet-modal-overlay","theme-"+this.overlayTheme,"sweet-modal-clickable",{"is-visible":this.visible,blocking:this.blocking}]},modal_classes:function(){return["sweet-modal","theme-"+this.modalTheme,{"has-title":this.has_title,"has-tabs":this.has_tabs,"has-content":this.has_content,"has-icon":this.icon,"is-visible":this.visible,"sweet-alert":this.icon&&!this.has_tabs||!this.icon&&!this.title&&!this.$slots.title,bounce:this.is_bouncing}]}},methods:{open:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(t&&this.has_tabs){var n=this.tabs.filter(function(e){return e.id===t});if(n.length>0)this.currentTab=this._changeTab(n[0]);else{var i=this.tabs[t];i&&(this.currentTab=this._changeTab(i))}}this.is_open=!0,this._lockBody(),this._animateIcon(),setTimeout(function(){return e.visible=!0},30),this.$emit("open")},close:function(){var e=this;this.visible=!1,this._unlockBody(),setTimeout(function(){return e.is_open=!1},300),this.$emit("close")},bounce:function(){var e=this;this.is_bouncing=!0,setTimeout(function(){return e.is_bouncing=!1},330)},_lockBody:function(){this.backups.body.height=document.body.style.height,this.backups.body.overflow=document.body.style.overflow,document.body.style.height="100%",document.body.style.overflow="hidden"},_unlockBody:function(){document.body.style.height=this.backups.body.height,document.body.style.overflow=this.backups.body.overflow},_onOverlayClick:function(e){e.target.classList&&!e.target.classList.contains("sweet-modal-clickable")||(this.blocking?this.pulseOnBlock&&this.bounce():this.close())},_onDocumentKeyup:function(e){27==e.keyCode&&(this.blocking?this.pulseOnBlock&&this.bounce():this.close())},_changeTab:function(e){this.tabs.map(function(t){return t.active=t==e}),this.currentTab=e},_getClassesForTab:function(e){return["sweet-modal-tab",{active:e.active,disabled:e.disabled}]},_animateIcon:function(){var e=this;if(this.icon)switch(this.icon){case"success":setTimeout(function(){e._applyClasses(e.$refs.icon_success,{"":["animate"],".sweet-modal-tip":["animateSuccessTip"],".sweet-modal-long":["animateSuccessLong"]})},80);break;case"warning":this._applyClasses(this.$refs.icon_warning,{"":["pulseWarning"],".sweet-modal-body":["pulseWarningIns"],".sweet-modal-dot":["pulseWarningIns"]});break;case"error":setTimeout(function(){e._applyClasses(e.$refs.icon_error,{"":["animateErrorIcon"],".sweet-modal-x-mark":["animateXMark"]})},80)}},_applyClasses:function(e,t){for(var n in t){var s,a,o=t[n],l=void 0;l=""==n?e:e.querySelector(n),(s=l.classList).remove.apply(s,i(o)),(a=l.classList).add.apply(a,i(o))}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{title:{type:String,required:!0},id:{type:String,required:!0},icon:{type:String,required:!1,default:null},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{active:!1}},computed:{cmpName:function(){return"tab"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.default={name:"app",props:["layout","uiElements","submitUrl"],methods:{submitChanges:function(){this.$root.$http.post(this.submitUrl,this.layout)},removeUIElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t&&(t=this.layout);for(var n in t)if(!1!==t.hasOwnProperty(n)){if(void 0!==t[n].contentData&&null!==t[n].contentData)for(var i in t[n].contentData)this.removeUIElement(e,t[n].contentData[i]);t[n].id===e&&this.$delete(t,n)}}},created:function(){var e=this;i.a.$on("elementDeleted",e.removeUIElement),i.a.$on("submitChanges",e.submitChanges)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={template:"<div>Loading...</div>"};t.default={name:"inner-content",functional:!0,props:["elementDefinition"],render:function(e,t){var n=t.props,s=n.elementDefinition.content,a={template:s,data:function(){var e=n;return e.dragOptions={group:"ui-elements"},e}};return e(s?a:i)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(27),s=n.n(i),a=n(19),o=(n.n(a),n(1));t.default={name:"ui-element",components:{"inner-content":s.a},props:["elementDefinition"],data:function(){return{formOptions:{validateAfterLoad:!0,validateAfterChanged:!0}}},methods:{openModal:function(e){this.$refs[e].open()},removeUIElement:function(e){o.a.$emit("elementDeleted",e)}},computed:{hasSlotData:function(){return!!this.$slots.content}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.default={name:"ui-element-picker",props:["uiElements"],mounted:function(){for(var e in this.uiElements)this.uiElements[e].id=Math.random().toString(36).substring(2,15)},data:function(){return{dragOptions:{group:{name:"ui-elements",pull:"clone",put:!1}},uiElementsInternal:this.uiElements}},methods:{listChanged:function(e){for(var t in this.uiElementsInternal)this.uiElementsInternal[t].id=Math.random().toString(36).substring(2,15);this.uiElementsInternal=this.uiElementsInternal.filter(Object),console.log(this.uiElementsInternal)},saveChanges:function(){i.a.$emit("submitChanges")},clone:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"ui-element-thumbnail",props:["type","icon"],computed:{hasSlotData:function(){return!!this.$slots.content}}}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t,n){var i=n(0)(n(15),null,null,null,null);e.exports=i.exports},function(e,t,n){function i(e){n(20)}var s=n(0)(n(12),n(30),i,null,null);e.exports=s.exports},function(e,t,n){function i(e){n(21)}var s=n(0)(n(13),n(31),i,null,null);e.exports=s.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.is_open,expression:"is_open"}],class:e.overlay_classes,on:{click:e._onOverlayClick}},[n("div",{class:e.modal_classes},[n("div",{staticClass:"sweet-box-actions"},[e._t("box-action"),e._v(" "),e.hideCloseButton?e._e():n("div",{staticClass:"sweet-action-close",on:{click:e.close}},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",fill:"#292c34"}})])])],2),e._v(" "),e.has_title||e.has_tabs?n("div",{staticClass:"sweet-title"},[e.has_tabs&&!e.has_title?[n("ul",{staticClass:"sweet-modal-tabs"},e._l(e.tabs,function(t){return n("li",{class:e._getClassesForTab(t)},[n("a",{attrs:{href:"#"},on:{click:function(n){n.preventDefault(),e._changeTab(t)}}},[n("div",{staticClass:"sweet-modal-valign"},[t.icon?n("span",{staticClass:"sweet-modal-tab-icon",domProps:{innerHTML:e._s(t.icon)}}):e._e(),e._v(" "),n("span",{staticClass:"sweet-modal-tab-title"},[e._v(e._s(t.title))])])])])}))]:e._e(),e._v(" "),e.has_title?[e.title?n("h2",{domProps:{innerHTML:e._s(e.title)}}):e._e(),e._v(" "),e._t("title")]:e._e()],2):e._e(),e._v(" "),e.has_title&&e.has_tabs?n("ul",{staticClass:"sweet-modal-tabs"},e._l(e.tabs,function(t){return n("li",{class:e._getClassesForTab(t)},[n("a",{attrs:{href:"#"},on:{click:function(n){n.preventDefault(),e._changeTab(t)}}},[n("div",{staticClass:"sweet-modal-valign"},[t.icon?n("span",{staticClass:"sweet-modal-tab-icon",domProps:{innerHTML:e._s(t.icon)}}):e._e(),e._v(" "),n("span",{staticClass:"sweet-modal-tab-title"},[e._v(e._s(t.title))])])])])})):e._e(),e._v(" "),n("div",{ref:"content",staticClass:"sweet-content"},["error"==e.icon?n("div",{ref:"icon_error",staticClass:"sweet-modal-icon sweet-modal-error"},[e._m(0)]):e._e(),e._v(" "),"warning"==e.icon?n("div",{ref:"icon_warning",staticClass:"sweet-modal-icon sweet-modal-warning"},[n("span",{staticClass:"sweet-modal-body"}),e._v(" "),n("span",{staticClass:"sweet-modal-dot"})]):e._e(),e._v(" "),"info"==e.icon?n("div",{ref:"icon_info",staticClass:"sweet-modal-icon sweet-modal-info"}):e._e(),e._v(" "),"success"==e.icon?n("div",{ref:"icon_success",staticClass:"sweet-modal-icon sweet-modal-success"},[n("span",{staticClass:"sweet-modal-line sweet-modal-tip"}),e._v(" "),n("span",{staticClass:"sweet-modal-line sweet-modal-long"}),e._v(" "),n("div",{staticClass:"sweet-modal-placeholder"}),e._v(" "),n("div",{staticClass:"sweet-modal-fix"})]):e._e(),e._v(" "),e.$slots.default?n("div",{staticClass:"sweet-content-content"},[e._t("default")],2):e._e()]),e._v(" "),e.$slots.button?n("div",{staticClass:"sweet-buttons"},[e._t("button")],2):e._e()])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"sweet-modal-x-mark"},[n("span",{staticClass:"sweet-modal-line sweet-modal-left"}),e._v(" "),n("span",{staticClass:"sweet-modal-line sweet-modal-right"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:["sweet-modal-tab",{active:e.active}]},[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex-container"},[n("ui-element-picker",{staticClass:"element-picker",attrs:{uiElements:e.uiElements}}),e._v(" "),n("draggable",{staticClass:"draggable main",attrs:{list:e.layout,options:{group:"ui-elements"}}},e._l(e.layout,function(t){return void 0!==t?n("ui-element",{key:t.id,attrs:{elementDefinition:t},on:{"update:elementDefinition":function(e){t=e}}}):e._e()}))],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-element-thumbnail"},[n("div",{staticClass:"icon",domProps:{innerHTML:e._s(e.icon)}}),e._v(" "),n("div",{staticClass:"name"},[e._v(e._s(e.type))])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-element-wrapper"},[void 0!==e.elementDefinition.settings?n("sweet-modal",{ref:e.elementDefinition.id,attrs:{"overlay-theme":"dark"}},[n("vue-form-generator",{attrs:{schema:e.elementDefinition.settings.definition,model:e.elementDefinition.settings.content,options:e.formOptions}})],1):e._e(),e._v(" "),void 0!==e.elementDefinition.settings?n("a",{staticClass:"settings",attrs:{href:"#"},on:{click:function(t){e.openModal(e.elementDefinition.id)}}},[n("i",{staticClass:"fa fa-cog"})]):e._e(),e._v(" "),n("a",{staticClass:"delete",attrs:{href:"#"},on:{click:function(t){e.removeUIElement(e.elementDefinition.id)}}},[n("i",{staticClass:"fa fa-trash"})]),e._v(" "),void 0===e.elementDefinition.content?n("div",{staticClass:"ui-element slotless"},[n("div",{staticClass:"icon",domProps:{innerHTML:e._s(e.elementDefinition.icon)}}),e._v(" "),n("div",{staticClass:"name"},[e._v(e._s(e.elementDefinition.name))])]):e._e(),e._v(" "),void 0!==e.elementDefinition.content?n("div",{staticClass:"ui-element slotted"},[n("div",{staticClass:"toolbar"},[n("div",{staticClass:"icon",domProps:{innerHTML:e._s(e.elementDefinition.icon)}}),e._v(" "+e._s(e.elementDefinition.name)+"\n    ")]),e._v(" "),n("div",{staticClass:"content"},[void 0!==e.elementDefinition.content?n("inner-content",{attrs:{elementDefinition:e.elementDefinition}}):e._e()],1)]):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("a",{attrs:{href:"#"},on:{click:e.saveChanges}},[e._v("Save Changes")]),e._v(" "),n("draggable",{attrs:{clone:e.clone,list:e.uiElementsInternal,options:e.dragOptions},on:{remove:e.listChanged}},e._l(e.uiElementsInternal,function(e){return n("ui-element-thumbnail",{key:e.name,attrs:{type:e.name,icon:e.icon}})}))],1)},staticRenderFns:[]}},,,function(e,t){}],[11]);
//# sourceMappingURL=app.d564626814a92e0fb1fb.js.map